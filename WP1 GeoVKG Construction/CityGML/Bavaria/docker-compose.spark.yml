version: "3.8"

services:
  # Does not work with 4GB RAM.
  spark:
    hostname: spark
    container_name: spark
    build:
      context: ./spark
    ports:
      - "8050:8050"  # Spark master
      - "8051:8051"  # Spark worker
      - "7078:7078"
      - "10000:10000"  # ThriftServer JDBC endpoint
    extra_hosts:
      - "host.docker.internal:host-gateway"